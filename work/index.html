<!doctype html>
<html lang="pl">
<head>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
<meta name="theme-color" content="#eeeeee">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Work — malepszym</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#eee; --fg:#111; --muted:#bfbfbf;
      --maxw:1200px; --gap:28px;
      --underline:3px; --offset:6px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:Inter,system-ui,Arial,sans-serif;
      min-height:100vh; display:flex; flex-direction:column; line-height:1.6;
    }
    .container{max-width:var(--maxw); margin:0 auto; padding:clamp(16px,3vw,32px); width:100%}

    /* top bar */
    .top{display:flex; align-items:center; justify-content:space-between}
    .back{display:inline-flex; align-items:center; gap:12px; text-decoration:none; color:inherit;
      font-family:"Archivo Black",system-ui,sans-serif; font-size:22px}
    .arrow{font-size:28px; line-height:1; transform:translateY(-1px)}
    .section-label{color:var(--muted); font-weight:700; text-transform:lowercase}

    /* page title */
    .page-title{
      font-family:"Archivo Black",system-ui,sans-serif;
      text-align:center; font-size:clamp(44px,10vw,120px);
      line-height:1.05; margin:clamp(24px,6vh,48px) 0;
      letter-spacing:1px;
    }

    /* gallery */
    .gallery{
      display:grid; gap:var(--gap);
      grid-template-columns:repeat(3,1fr);
      align-items:stretch;
    }

    /* clickable tiles (no default button chrome) */
    .frame{
      appearance:none; -webkit-appearance:none;
      border:0; padding:0; margin:0;
      background:transparent; line-height:0; cursor:pointer; display:block;
    }
    .frame img{
      display:block; width:100%; height:100%; object-fit:cover;
      transition:filter .25s ease;
    }
    .frame:hover img{ filter:grayscale(100%) contrast(.95) brightness(.98) }
    .frame:focus-visible{ outline:3px solid #000; outline-offset:6px; border-radius:6px }

    /* meta pod galerią */
    .project-meta{ text-align:center; margin:clamp(24px,6vh,48px) 0 }
    .project-title{
      font-family:"Archivo Black",system-ui,sans-serif;
      font-size:clamp(36px,6.5vw,72px); line-height:1.08; margin:0 0 6px;
    }
    .project-roles{
      font-family:"Archivo Black",system-ui,sans-serif;
      font-size:clamp(18px,3vw,28px); margin:0;
    }

    /* underline dla linków w tytułach */
    .link-underline{ position:relative; text-decoration:none; color:inherit }
    .link-underline::after{
      content:""; position:absolute; left:0; bottom:calc(var(--offset)*-1);
      height:var(--underline); width:0; background:currentColor; transition:width .25s ease;
    }
    .link-underline:hover::after{ width:100% }

    /* odstęp między projektami */
    .project-block{ margin-top: clamp(40px, 10vh, 80px); }

    /* responsywny YouTube 16:9 */
    .video-wrap{
      position:relative; width:100%; aspect-ratio:16/9;
      background:#000; border-radius:8px; overflow:hidden;
    }
    .video-wrap iframe{
      position:absolute; inset:0; width:100%; height:100%; border:0;
    }

    /* RWD */
    @media (max-width:1000px){ .gallery{ grid-template-columns:repeat(2,1fr) } }
    @media (max-width:640px){ .gallery{ grid-template-columns:1fr } }

    /* LIGHTBOX (modal) */
    .lightbox{
      position:fixed; inset:0; z-index:50;
      display:none; align-items:center; justify-content:center; gap:8px;
      background:rgba(0,0,0,.75); padding:24px;
    }
    .lightbox.open{ display:flex }
    .lb-track{
      position:relative; width:min(1200px, 96vw); height:min(86vh, 900px);
      overflow-x:auto; scroll-snap-type:x mandatory; display:flex; gap:0; background:#111;
    }
    .lb-track img{
      flex:0 0 100%; height:100%; object-fit:contain; scroll-snap-align:center; background:#111;
    }
    .lb-btn{
      appearance:none; border:0; background:rgba(255,255,255,.85); color:#111;
      width:42px; height:42px; border-radius:999px; font-size:24px; line-height:1;
      display:inline-grid; place-items:center; cursor:pointer;
    }
    .lb-btn:hover{ background:#fff }
    .lb-close{ position:absolute; top:16px; right:16px }
    .lb-prev, .lb-next{ align-self:center }
    .lb-prev{ order:-1 } .lb-next{ order:2 }
    .no-scroll{ overflow:hidden }

    /* ===== Scroll reveal ===== */
    .reveal{
      opacity:0;
      transform:translateY(16px);
      transition:opacity .6s ease, transform .6s ease;
      will-change: opacity, transform;
    }
    .reveal.in{ opacity:1; transform:none }

    .from-left  { transform:translateX(-24px) }
    .from-right { transform:translateX( 24px) }
    .from-bottom{ transform:translateY( 16px) }

    .reveal.in.from-left,
    .reveal.in.from-right,
    .reveal.in.from-bottom{ transform:none }

    .delay-1{ transition-delay:.10s }
    .delay-2{ transition-delay:.22s }
    .delay-3{ transition-delay:.34s }
    .delay-4{ transition-delay:.46s }

    @media (prefers-reduced-motion:reduce){
      .reveal{ opacity:1; transform:none; transition:none }
    }

    /* footer */
    footer{ margin-top:auto; border-top:1px solid #e5e5e5 }
    footer .container{ color:#9aa0a6; font-size:14px }
    /* --- MOBILE LIGHTBOX FIX (tylko /work) --- */
@media (max-width: 768px){
  .lightbox{ padding: 8px !important; }                 /* mniej marginesu */
  .lb-btn{ width:36px; height:36px; font-size:20px }
  .lb-close{ top:8px; right:8px }

  /* niższy tor, liczone bez pasków przeglądarki */
  .lightbox .lb-track{
    width: 100vw;
    height: 70vh !important;   /* fallback */
    height: 70svh !important;  /* „safe” */
    height: 70dvh !important;  /* „dynamic” */
  }

  /* obraz zawsze w całości, w oryginalnych proporcjach */
  .lightbox .lb-track img{
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
}

/* bardzo małe ekrany */
@media (max-width: 380px){
  .lightbox .lb-track{
    height: 66vh !important;
    height: 66svh !important;
    height: 66dvh !important;
  }
}
    /* sticky, pełna szerokość, bez cienia/ramki */
.top{
  position: sticky;
  top: 0;
  z-index: 40;            /* lightbox ma 50, więc będzie pod */
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* pełnoekranowe tło za wąskim headerem */
.top::before{
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 0;
  width: 100vw;          /* szerokość całego okna */
  height: 100%;
  background: var(--bg); /* ten sam kolor co strona */
  pointer-events: none;  /* nie łapie klików */
  box-shadow: inset 0 -1px 0 #e5e5e5;
}

  </style>
</head>
<body>
  <header class="container top">
    <a class="back" href="/" aria-label="Wróć na stronę główną"><span class="arrow">←</span><span>malepszym</span></a>
    <span class="section-label">work</span>
  </header>

  <main class="container">
    <h1 class="page-title reveal from-bottom">PROJECTS</h1>

    <!-- PROJECT 1 — Remains -->
    <div class="project-block">
      <div class="gallery">
        <button class="frame reveal from-left  delay-1" type="button" data-group="remains" data-index="0" aria-label="Otwórz galerię — zdjęcie 1">
          <img src="/assets/work/1.svg" alt="Remains — zdjęcie 1" loading="lazy">
        </button>
        <button class="frame reveal from-bottom delay-2" type="button" data-group="remains" data-index="1" aria-label="Otwórz galerię — zdjęcie 2">
          <img src="/assets/work/2.svg" alt="Remains — zdjęcie 2" loading="lazy">
        </button>
        <button class="frame reveal from-right delay-3" type="button" data-group="remains" data-index="2" aria-label="Otwórz galerię — zdjęcie 3">
          <img src="/assets/work/3.svg" alt="Remains — zdjęcie 3" loading="lazy">
        </button>
      </div>
      <section class="project-meta reveal from-bottom delay-4">
        <h2 class="project-title">
          <a class="link-underline" href="https://www.instagram.com/remains.official" target="_blank" rel="noopener noreferrer">Remains</a>
        </h2>
        <p class="project-roles">styling · co-creative direction</p>
      </section>
    </div>

    <!-- PROJECT 2 — kajamann.clothing -->
    <div class="project-block">
      <div class="gallery">
        <button class="frame reveal from-left  delay-1" type="button" data-group="kajamann" data-index="0" aria-label="Otwórz galerię — zdjęcie 1">
          <img src="/assets/work/4.svg" alt="kajamann.clothing — zdjęcie 1" loading="lazy">
        </button>
        <button class="frame reveal from-bottom delay-2" type="button" data-group="kajamann" data-index="1" aria-label="Otwórz galerię — zdjęcie 2">
          <img src="/assets/work/5.svg" alt="kajamann.clothing — zdjęcie 2" loading="lazy">
        </button>
        <button class="frame reveal from-right delay-3" type="button" data-group="kajamann" data-index="2" aria-label="Otwórz galerię — zdjęcie 3">
          <img src="/assets/work/6.svg" alt="kajamann.clothing — zdjęcie 3" loading="lazy">
        </button>
      </div>
      <section class="project-meta reveal from-bottom delay-4">
        <h2 class="project-title">
          <a class="link-underline" href="https://www.instagram.com/kajamann.clothing/" target="_blank" rel="noopener noreferrer">kajamann.clothing</a>
        </h2>
        <p class="project-roles">styling · creative assistant</p>
      </section>
    </div>

    <!-- PROJECT 3 — Tabusie (YouTube) -->
    <div class="project-block">
      <div class="video-wrap reveal from-bottom">
        <iframe
          src="https://www.youtube-nocookie.com/embed/v4vYYpS4b9Y?modestbranding=1&rel=0"
          title="Tabusie — video"
          loading="lazy"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen></iframe>
      </div>
      <section class="project-meta reveal from-bottom delay-2">
        <h2 class="project-title">
          <a class="link-underline" href="http://tabou.pl/tabusie" target="_blank" rel="noopener noreferrer">Tabusie</a>
        </h2>
        <p class="project-roles">project coordinator · production assistant</p>
      </section>
    </div>
  </main>

  <!-- MODAL GALLERY (wspólna dla obu galerii obrazów) -->
  <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-label="Galeria">
    <button class="lb-btn lb-prev"  aria-label="Poprzednie">‹</button>
    <div class="lb-track" id="lbTrack" tabindex="0"></div>
    <button class="lb-btn lb-next"  aria-label="Następne">›</button>
    <button class="lb-btn lb-close" id="lbClose" aria-label="Zamknij">×</button>
  </div>

  <footer>
    <div class="container">© <span id="y"></span> malepszym</div>
  </footer>

  <script>
    // Rok w stopce
    document.getElementById('y').textContent = new Date().getFullYear();

    // Zestawy obrazów dla lightboxa (projekty obrazkowe)
    const IMAGES = {
      remains: ['/assets/work/1.svg','/assets/work/2.svg','/assets/work/3.svg'],
      kajamann: ['/assets/work/4.svg','/assets/work/5.svg','/assets/work/6.svg']
    };

    /* ===== Scroll reveal (IntersectionObserver) ===== */
    (function(){
      const els = document.querySelectorAll('.reveal');
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(reduce){
        els.forEach(el => el.classList.add('in'));
        return;
      }
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            entry.target.classList.add('in');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15, rootMargin: '0px 0px -10% 0px' });
      els.forEach(el => io.observe(el));
    })();

    /* ===== Lightbox ===== */
    const overlay = document.getElementById('lightbox');
    const track   = document.getElementById('lbTrack');
    const btnPrev = document.querySelector('.lb-prev');
    const btnNext = document.querySelector('.lb-next');
    const btnClose= document.getElementById('lbClose');

    let group = null;
    let index = 0;

    function renderTrack(list){
      track.innerHTML = '';
      list.forEach((src,i)=>{
        const img = document.createElement('img');
        img.src = src;
        img.alt = `Zdjęcie ${i+1}`;
        track.appendChild(img);
      });
    }

    function openLightbox(g, i=0){
      group = g; index = i;
      renderTrack(IMAGES[group]);
      overlay.classList.add('open');
      document.body.classList.add('no-scroll');
      requestAnimationFrame(()=>{
        const w = track.clientWidth;
        track.scrollTo({ left: w * index, behavior: 'instant' });
        track.focus({ preventScroll: true });
      });
    }
    function closeLightbox(){
      overlay.classList.remove('open');
      document.body.classList.remove('no-scroll');
      group = null;
    }
    function go(delta){
      if(!group) return;
      const count = IMAGES[group].length;
      index = (index + delta + count) % count;
      const w = track.clientWidth;
      track.scrollTo({ left: w * index, behavior: 'smooth' });
    }

    // Kliknięcia miniatur
    document.querySelectorAll('.frame').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const g = btn.dataset.group;
        const i = parseInt(btn.dataset.index,10) || 0;
        openLightbox(g, i);
      });
    });

    // Sterowanie lightbox
    btnPrev.addEventListener('click', ()=>go(-1));
    btnNext.addEventListener('click', ()=>go(1));
    btnClose.addEventListener('click', closeLightbox);

    overlay.addEventListener('click', (e)=>{
      if(e.target === overlay) closeLightbox();
    });
    window.addEventListener('keydown', (e)=>{
      if(!overlay.classList.contains('open')) return;
      if(e.key === 'Escape') closeLightbox();
      if(e.key === 'ArrowRight') go(1);
      if(e.key === 'ArrowLeft') go(-1);
    });

    // Aktualizacja indexu przy ręcznym scrollu
    let timer;
    track.addEventListener('scroll', ()=>{
      clearTimeout(timer);
      timer = setTimeout(()=>{
        const w = track.clientWidth;
        index = Math.round(track.scrollLeft / w);
      }, 80);
    });
  </script>
</body>
</html>
